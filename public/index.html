<!DOCTYPE html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

.area {
  fill: #F37F75;
}

.highLine {
  fill: none;
  stroke: #FF2B1A;
  stroke-width: 3.0px;
}

.lowLine {
  fill: none;
  stroke: #00D15A;
  stroke-width: 3.0px;
}

#dashboard {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
  justify-content: center;
}

#dashboard .row {
  display: flex;
  flex-direction: row;
  justify-content: center;
}

</style>
<body>

<script src="https://d3js.org/d3.v3.min.js"></script>
<script src="graph.js"></script>

<script>
  function change_service_type() {
    var select = document.getElementById("service_types");
    var code = select.options[select.selectedIndex].value;
    if(code == "") {
      return;
    } else {
      graph_by_code(code);
    }
  }
</script>

<select id="service_types" onchange="change_service_type();">
  <option value="">Select service type</option>
  <option value="all">All service types</option>
  <option value="122">Graffiti</option>
  <option value="117">Sidewalks and Curb damage</option>
  <option value="51">Traffic Signal / Pedestrian Signal</option>
  <option value="1966">Trash & Recycling</option>
</select>

<div id="dashboard">
  <div id="row1" class="row">
    <script>graph_by_filename("data/graffiti.csv", "Graffiti", "#row1");</script>
    <script>graph_by_filename("data/illegal-dumping.csv", "Illegal Dumping", "#row1");</script>
    <script>graph_by_filename("data/potholes.csv", "Potholes", "#row1");</script>
  </div>
  <div id="row2" class="row">
    <script>graph_by_filename("data/tree-trimming.csv", "Tree Trimming", "#row2");</script>
    <script>graph_by_filename("data/parks-request.csv", "Parks Request", "#row2");</script>
    <script>graph_by_filename("data/sidewalks-and-curb-damage.csv", "Sidewalks and Curb Damage", "#row2");</script>
  </div>
  <div id="row3" class="row">
    <script>graph_by_filename("data/policing-issue.csv", "Policing Issue", "#row3");</script>
    <script>graph_by_filename("data/trash-recycling.csv", "Trash Recycling", "#row3");</script>
    <script>graph_by_filename("data/health-complaints.csv", "Health Complaints", "#row3");</script>
  </div>
</div>

</body>
</html>
